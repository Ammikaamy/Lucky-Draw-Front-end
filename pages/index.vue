<template>
    <div class="flex flex-col mx-autos items-center h-screen justify-center relative">
        <LoadingPage v-if="isLoading" />
        <div v-else class="hero bg-base-200 min-h-screen">
            <div class="hero-content text-center">
                <div class="min-w-lg">
                    <h1 class="text-5xl font-semibold">üéÅ ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h1>
                    <p class="text-lg py-6 font-medium ">
                        ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏° ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö<br>
                        ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£
                    </p>
                    <NuxtLink to="/create"><button class="btn btn-primary font-medium">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏¢!</button></NuxtLink>
                </div>
            </div>
        </div>
    </div>
</template>

<script setup lang="ts">
import axios from 'axios';
import type { roomTypes } from "@/types/room";

const rooms = ref<roomTypes[]>([]);
const isLoading = ref<boolean>(false);

const fetchRooms = async () => {
    isLoading.value = false;
    try {
        isLoading.value = true;
        const response = await axios.get(`${import.meta.env.VITE_API}/rooms/list`);
        rooms.value = response.data.data;
        isLoading.value = false;
        if (response.status == 200) {
            console.log("Rooms fetched successfully:", rooms.value);
        } else {
            console.error("Error fetching rooms:", response.statusText);
        }
    } catch (error) {
        console.error("Error fetching rooms:", error);
    }
};

onMounted(() => {
    fetchRooms();
});

</script>

<style lang="scss" scoped></style>